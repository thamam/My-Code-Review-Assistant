ID,Type,Module,Phase,Importance,Description,Maturity,Tags
FR-001,FR,Core,1,High,"System initializes StateGraph with 'planner' and 'executor' nodes.",10,"#core #langgraph"
FR-002,FR,Core,4,High,"EventBus transmits 'USER_MESSAGE' from UI to Agent.",10,"#core #events"
FR-003,FR,Core,4,High,"EventBus transmits 'AGENT_SPEAK' and 'AGENT_THINKING' to UI.",10,"#core #events"
FR-004,FR,Core,13,High,"Router Logic: If plan status is 'failed', route back to Planner (Self-Correction).",10,"#logic #router"
FR-005,FR,Core,13,High,"Router Logic: If steps remain, route back to Executor (Loop).",9,"#logic #router"
FR-006,FR,Core,15,High,"Router Logic: If 'pendingAction' exists, pause execution (End state).",10,"#logic #gatekeeper"
FR-007,FR,Planner,6,High,"Planner receives user input + context and outputs structured JSON plan.",8,"#planner #llm"
FR-008,FR,Planner,12,Med,"Planner parses JSON response using 'Greedy' regex fallback if standard parse fails.",6,"#planner #parsing"
FR-009,FR,Planner,13,High,"Planner receives 'lastError' in context during Repair Mode.",9,"#planner #context"
FR-010,FR,Executor,6,High,"Executor executes the specific tool defined in the current plan step.",8,"#executor #tools"
FR-011,FR,Executor,15,High,"Executor detects sensitive tools (write_file, rm) and halts for approval.",10,"#executor #security"
FR-012,FR,Executor,15,Med,"Executor handles 'Approved' signal and resumes execution.",9,"#executor #resume"
FR-013,FR,Executor,15,Med,"Executor handles 'Rejected' signal and marks step as failed.",9,"#executor #resume"
FR-014,FR,Tools,5,High,"run_terminal_command: Executes shell commands (ls, npm, node).",9,"#tools #runtime"
FR-015,FR,Tools,5,High,"write_file: Writes content to file (uses Base64 safe encoding).",9,"#tools #fs"
FR-016,FR,Tools,14,Med,"search_text: Greps file content (uses Base64 safe encoding).",9,"#tools #search"
FR-017,FR,Tools,14,Med,"find_file: Fuzzy searches filenames via MiniSearch.",8,"#tools #search"
FR-018,FR,Tools,3,Low,"navigate_to_code: Highlights lines in Monaco Editor.",9,"#tools #editor"
FR-019,FR,Tools,3,Low,"change_tab: Switches sidebar tab programmatically.",9,"#tools #ui"
FR-020,FR,Tools,3,Low,"toggle_diff_mode: Enables/Disables diff view.",9,"#tools #ui"
FR-021,FR,Persistence,16,High,"AgentState (Plan, Chat, PendingAction) saved to localStorage on change.",9,"#persistence #save"
FR-022,FR,Persistence,16,High,"loadSession() restores State and emits 'AGENT_SESSION_RESTORED'.",9,"#persistence #load"
FR-023,FR,UI,1,High,"Chat Interface renders User and AI messages.",10,"#ui #chat"
FR-024,FR,UI,1,Med,"Chat Interface renders Markdown and Code Blocks correctly.",8,"#ui #markdown"
FR-025,FR,UI,12,High,"Plan Sidebar renders live plan progress (Active/Pending/Done).",7,"#ui #sidebar"
FR-026,FR,UI,15,High,"Permission Modal appears when 'AGENT_REQUEST_APPROVAL' is emitted.",10,"#ui #modal"
FR-027,FR,UI,2,Low,"Voice Synthesis (TTS) speaks agent responses (if enabled).",5,"#ui #voice #legacy"
FR-028,FR,UI,5,Med,"Terminal View streams 'RUNTIME_OUTPUT' events in real-time.",8,"#ui #terminal"
FR-029,FR,Navigation,8,High,"Diagram Parser extracts Â§filepath:line syntax from Mermaid node labels.",10,"#diagrams #parsing"
FR-030,FR,UI,8,High,"Diagram Renderer renders interactive nodes with .clickable-ref CSS class.",10,"#ui #diagrams"
FR-031,FR,Navigation,8,High,"Clicking a diagram node triggers MapsToCode with specific file/line focus.",10,"#navigation #interactivity"
FR-032,FR,Navigation,9,High,"NavigationService fetches full Git Tree from GitHub API on demand.",10,"#github #api"
FR-033,FR,Navigation,9,High,"System maintains 'Hybrid State' merging prFiles (Hot) with repoTree (Ghost).",9,"#state #lazy-load"
FR-034,FR,UI,9,Med,"FileTree provides toggle to switch between 'Changes Only' and 'Full Repository'.",10,"#ui #filetree"
FR-035,FR,Navigation,9,High,"Clicking a 'Ghost Node' triggers lazy fetch of file content.",9,"#navigation #fetch"
FR-036,FR,UI,9,Med,"Code Viewer displays 'Read Only' badge/lock icon for lazy-loaded files.",10,"#ui #editor"
FR-037,FR,Quality,7,High,"Spec Engine adapts requirements into granular SpecAtoms.",8,"#specs #parsing"
FR-038,FR,Core,6,High,"Director outputs 'Dual-Track' JSON: { voice, screen }.",10,"#voice #ux"
FR-039,FR,Context,8,High,"Live Context Stream: Updates user context (cursor, tab) in real-time.",8,"#context #realtime"
FR-040,FR,Context,9,High,"Smart Context Snapshot: Includes history of last 3 files touched.",8,"#context #history"
FR-041,FR,Core,10,Med,"Barge-In Handling: Pauses Agent if user interacts during output.",9,"#ux #interrupt"
FR-042,FR,UI,10,High,"Focus Locking: Agent navigation skips if user is typing.",9,"#ux #focus"
NFR-001,NFR,Core,15,High,"API Rate Limit: System must handle 429 errors gracefully.",3,"#stability #api"
NFR-002,NFR,Core,12,Med,"Response Time: Planner should generate plan < 10s.",8,"#perf #latency"
NFR-003,NFR,Security,5,High,"Sandbox: Agent cannot access host system files.",10,"#security #sandbox"
NFR-004,NFR,Observability,17,Med,"Debug Snippet dumps full state JSON to console.",10,"#dx #debug"
NFR-005,NFR,Observability,18,Low,"LangSmith Tracing records token usage and latency.",2,"#dx #tracing"
NFR-006,NFR,Navigation,9,High,"Ghost File Fetch Latency: Lazy loading < 1MB must complete in < 2s.",9,"#perf #latency"
NFR-007,NFR,Navigation,9,Med,"Repository Tree Caching: Fetch once per session/SHA.",9,"#perf #caching"
NFR-008,NFR,Core,6,High,"Voice-Code Separation: TTS never reads raw code.",10,"#ux #accessibility"
NFR-009,NFR,UX,9,High,"Context Debounce: Rapid file switching (<500ms) is ignored.",9,"#ux #latency"
